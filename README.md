# Sylvenarr: Origins (Master of Arena) - PvP bot for VK
Sylvenarr - текстовая онлайн соревновательная игра в жанре тёмного технофэнтези, вдохновлённая играми Disciples II, Heroes of Might Magic III и Darkest Dungeon. 
Игроки набирают отряд из 4-6 героев, выбирая из двадцати трёх доступных персонажей, обладающих уникальным набором способностей и инвентарём. Смысл игры в том, чтобы победить своего оппонента в пошаговом сражении.

<img src="/imgs/demo/manualfp.PNG" width="75%" height="75%">

В файле ```MANUAL.PDF``` вы найдёте **полное руководство** к игре, описывающее все тонкости игровой механики - от радиуса атак ближнего боя до работы Ярмарки. 

## Оглавление
1. [Персонажи](#персонажи)
2. [Запуск бота](#запуск)
3. [Технические моменты](#технические-моменты)
4. [Команды бота](#команды-бота)
5. [Демонстрация игрового процесса](#демонстрация-игрового-процесса)

## Персонажи

![](/imgs/intro/intro1.JPG)

![](/imgs/intro/intro2.JPG)

... и ещё 11 юнитов. Полное перечисление характеристик всех героев (включая призываемых) ниже:

![Характеристики](/imgs/demo/stat_table.PNG)
## Запуск
Для запуска вам потребуется сформировать файл ```protected.py``` с данными о боте:
```
TOKEN =
GROUP_ID =
SEND_KEY =
SEND_SERVER =
```
При необходимости создатите файлы ```storage/stats.db``` и ```mysave.txt```.
## Технические моменты
**Примечание**. *Бот писался достаточно давно, поэтому чистота и качество кода иногда оставляют желать лучшего.*

- работа с базой данных игроков на sqlite3, где сохранялся их прогресс и отмечались рейтинги.
- работа с картинками в PIL: предварительная обработка, добавление объектов, текста, маски. Также бот умел присылать изображения пользователям.
- проектирование системы классов и способностей персонажей. Системы эффектов, вызова существ, инвентаря, торговли и обмена, магии ии заклинаний и т.п.
- возможность сохранения игры и прогресса игроков.
  
**Tech**: ```vk_api, requests, sqlite3, pickle, PIL```

## Команды бота

**Чтобы начать дуэль, Вам нужно ответить оппоненту сообщением, начинающемся с [пвп] или [gdg].**

В игре и в руководстве все команды заключены в квадратные скобки [], но команды пишутся без них!
Написание нижеперечисленных команд не потратит ваш ход, если не написано обратное. Через вертикальную черту указанны альтернативные записи команд.
*Постфикс*, в данном случае, - это координаты цели на поля боя.
Большинство команд указаны прямо в игре, запоминать их **не надо**!
### В дуэли
<img alt="Заставка" src="/imgs/demo/commands.PNG" width="70%" height="70%">

### Вне дуэли

- [!обзор] – увидеть статистику сколько раз ты играл за каждый класс. Если в команде было два одинаковых персонажа, то это засчитывается за один раз.
- [!рейтинг] – увидеть количество побед/поражений, сортированную таблицу игроков.



## Демонстрация игрового процесса
Заставка, генерируется в начале битвы. На ней изображены поле битвы и лидеры противоборствующих отрядов.

<img alt="Заставка" src="/imgs/demo/combat.jpg" width="80%" height="80%">

Расстановка бойцов, которую можно посмотреть в любое время боя.

![Расстановка](/imgs/field.png)

Меню выбора действия и характеристики персонажа.

<img alt="Заставка" src="/imgs/demo/gameplay.PNG" width="50%" height="50%">


